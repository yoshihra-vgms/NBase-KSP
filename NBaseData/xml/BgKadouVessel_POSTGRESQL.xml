<?xml version="1.0" encoding="utf-8" ?>

<databaseConfig>

	<sql name="GetRecords">
    SELECT
    BG_KADOU_VESSEL.KADOU_VESSEL_ID,
    BG_KADOU_VESSEL.YOSAN_HEAD_ID,
    BG_KADOU_VESSEL.MS_VESSEL_ID,
    MS_VESSEL.VESSEL_NAME,
    BG_KADOU_VESSEL.KADOU_START_DATE,
    BG_KADOU_VESSEL.KADOU_END_DATE,
    BG_KADOU_VESSEL.NYUKYO_KIND,
    BG_KADOU_VESSEL.NYUKYO_MONTH,
    BG_KADOU_VESSEL.FUKADOUBI_1,
    BG_KADOU_VESSEL.FUKADOUBI_2,
    BG_KADOU_VESSEL.FUKADOUBI_3,
    BG_KADOU_VESSEL.EIGYOU_KISO_FLAG,
    BG_KADOU_VESSEL.KANRI_KISO_FLAG,
    BG_KADOU_VESSEL.RENEW_DATE,
    BG_KADOU_VESSEL.RENEW_USER_ID,
    BG_KADOU_VESSEL.TS,
    BG_KADOU_VESSEL.YEAR

    FROM BG_KADOU_VESSEL

    INNER JOIN MS_VESSEL ON MS_VESSEL.MS_VESSEL_ID = BG_KADOU_VESSEL.MS_VESSEL_ID
  </sql>


  <sql name="GetRecordsByMsVesselID">
    SELECT
    BG_KADOU_VESSEL.KADOU_VESSEL_ID,
    BG_KADOU_VESSEL.YOSAN_HEAD_ID,
    BG_KADOU_VESSEL.MS_VESSEL_ID,
    BG_KADOU_VESSEL.KADOU_START_DATE,
    BG_KADOU_VESSEL.KADOU_END_DATE,
    BG_KADOU_VESSEL.NYUKYO_KIND,
    BG_KADOU_VESSEL.NYUKYO_MONTH,
    BG_KADOU_VESSEL.FUKADOUBI_1,
    BG_KADOU_VESSEL.FUKADOUBI_2,
    BG_KADOU_VESSEL.FUKADOUBI_3,
    BG_KADOU_VESSEL.EIGYOU_KISO_FLAG,
    BG_KADOU_VESSEL.KANRI_KISO_FLAG,
    BG_KADOU_VESSEL.RENEW_DATE,
    BG_KADOU_VESSEL.RENEW_USER_ID,
    BG_KADOU_VESSEL.TS,
    BG_KADOU_VESSEL.YEAR

    FROM BG_KADOU_VESSEL

    WHERE
    BG_KADOU_VESSEL.MS_VESSEL_ID = :MS_VESSEL_ID
  </sql>
  
  <sql name="ByAll">
    WHERE 1 = 1
  </sql>

	<sql name="ByKadouVesselID">
    WHERE
    BG_KADOU_VESSEL.KADOU_VESSEL_ID = :KADOU_VESSEL_ID
  </sql>

  <sql name="ByYosanHeadID">
    AND BG_KADOU_VESSEL.YOSAN_HEAD_ID = :YOSAN_HEAD_ID
  </sql>

  <sql name="ByMsVesselID">
    AND BG_KADOU_VESSEL.MS_VESSEL_ID = :MS_VESSEL_ID
  </sql>
  
  <sql name="ByYearRange">
    AND
    BG_KADOU_VESSEL.YEAR >= :YEAR_START
    AND
    BG_KADOU_VESSEL.YEAR &lt;= :YEAR_END
  </sql>

  <sql name="OrderBy">
    ORDER BY MS_VESSEL.VESSEL_NO, BG_KADOU_VESSEL.YEAR
  </sql>

  <sql name="InsertRecord">
    INSERT INTO BG_KADOU_VESSEL
    (
    KADOU_VESSEL_ID,
    YOSAN_HEAD_ID,
    MS_VESSEL_ID,
    KADOU_START_DATE,
    KADOU_END_DATE,
    NYUKYO_KIND,
    NYUKYO_MONTH,
    FUKADOUBI_1,
    FUKADOUBI_2,
    FUKADOUBI_3,
    EIGYOU_KISO_FLAG,
    KANRI_KISO_FLAG,
    RENEW_DATE,
    RENEW_USER_ID,
    TS,
    YEAR
    )
    VALUES
    (
    nextval('SEQ_BG_KADOU_VESSEL_ID'),
    :YOSAN_HEAD_ID,
    :MS_VESSEL_ID,
    :KADOU_START_DATE,
    :KADOU_END_DATE,
    :NYUKYO_KIND,
    :NYUKYO_MONTH,
    :FUKADOUBI_1,
    :FUKADOUBI_2,
    :FUKADOUBI_3,
    :EIGYOU_KISO_FLAG,
    :KANRI_KISO_FLAG,
    :RENEW_DATE,
    :RENEW_USER_ID,
    :TS,
    :YEAR
    )
  </sql>

	<sql name="UpdateRecord">
    UPDATE BG_KADOU_VESSEL SET
    YOSAN_HEAD_ID = :YOSAN_HEAD_ID,
    MS_VESSEL_ID = :MS_VESSEL_ID,
    KADOU_START_DATE = :KADOU_START_DATE,
    KADOU_END_DATE = :KADOU_END_DATE,
    NYUKYO_KIND = :NYUKYO_KIND,
    NYUKYO_MONTH = :NYUKYO_MONTH,
    FUKADOUBI_1 = :FUKADOUBI_1,
    FUKADOUBI_2 = :FUKADOUBI_2,
    FUKADOUBI_3 = :FUKADOUBI_3,
    EIGYOU_KISO_FLAG = :EIGYOU_KISO_FLAG,
    KANRI_KISO_FLAG = :KANRI_KISO_FLAG,
    RENEW_DATE = :RENEW_DATE,
    RENEW_USER_ID = :RENEW_USER_ID,
    YEAR = :YEAR

    WHERE
    (KADOU_VESSEL_ID = :KADOU_VESSEL_ID) AND
    (TS = :TS)
  </sql>

  <sql name="InsertRecords_コピー">
    INSERT INTO BG_KADOU_VESSEL
    (
    KADOU_VESSEL_ID,
    YOSAN_HEAD_ID,
    MS_VESSEL_ID,
    KADOU_START_DATE,
    KADOU_END_DATE,
    NYUKYO_KIND,
    NYUKYO_MONTH,
    FUKADOUBI_1,
    FUKADOUBI_2,
    FUKADOUBI_3,
    RENEW_DATE,
    RENEW_USER_ID,
    YEAR
    )

    SELECT
    nextval('SEQ_BG_KADOU_VESSEL_ID'),
    :YOSAN_HEAD_ID,
    MS_VESSEL_ID,
    KADOU_START_DATE,
    KADOU_END_DATE,
    NYUKYO_KIND,
    NYUKYO_MONTH,
    FUKADOUBI_1,
    FUKADOUBI_2,
    FUKADOUBI_3,
    :RENEW_DATE,
    :RENEW_USER_ID,
    YEAR

    FROM BG_KADOU_VESSEL

    WHERE
    YOSAN_HEAD_ID = :LAST_YOSAN_HEAD_ID
  </sql>

</databaseConfig>
<?xml version="1.0" encoding="utf-8" ?>

<databaseConfig>

	<sql name="GetRecords">
		SELECT
		KS_SHOUSHO.KS_SHOUSHO_ID,
		KS_SHOUSHO.MS_SHOUSHO_ID,
		KS_SHOUSHO.MS_VESSEL_ID,
		KS_SHOUSHO.YUKOUKIGEN,
		KS_SHOUSHO.ALARM_DATE,
		KS_SHOUSHO.JISEKITOUROKU_USER,
		KS_SHOUSHO.JISEKITOUROKU_DATE,
		KS_SHOUSHO.BIKOU,
		KS_SHOUSHO.DELETE_FLAG,
		KS_SHOUSHO.SEND_FLAG,
		KS_SHOUSHO.VESSEL_ID,
		KS_SHOUSHO.DATA_NO,
		KS_SHOUSHO.USER_KEY,
		KS_SHOUSHO.RENEW_DATE,
		KS_SHOUSHO.RENEW_USER_ID,
		KS_SHOUSHO.TS,
		
		MS_SHOUSHO.MS_SHOUSHO_NAME
		
		FROM
		KS_SHOUSHO
		LEFT OUTER JOIN MS_SHOUSHO ON MS_SHOUSHO.MS_SHOUSHO_ID = KS_SHOUSHO.MS_SHOUSHO_ID
	</sql>
	
	
	<sql name="GetRecordsByMsShoushoID">
		SELECT
		KS_SHOUSHO.KS_SHOUSHO_ID,
		KS_SHOUSHO.MS_SHOUSHO_ID,
		KS_SHOUSHO.MS_VESSEL_ID,
		KS_SHOUSHO.YUKOUKIGEN,
		KS_SHOUSHO.ALARM_DATE,
		KS_SHOUSHO.JISEKITOUROKU_USER,
		KS_SHOUSHO.JISEKITOUROKU_DATE,
		KS_SHOUSHO.BIKOU,
		KS_SHOUSHO.DELETE_FLAG,
		KS_SHOUSHO.SEND_FLAG,
		KS_SHOUSHO.VESSEL_ID,
		KS_SHOUSHO.DATA_NO,
		KS_SHOUSHO.USER_KEY,
		KS_SHOUSHO.RENEW_DATE,
		KS_SHOUSHO.RENEW_USER_ID,
		KS_SHOUSHO.TS,

		MS_SHOUSHO.MS_SHOUSHO_NAME

		FROM
		KS_SHOUSHO
		LEFT OUTER JOIN MS_SHOUSHO ON MS_SHOUSHO.MS_SHOUSHO_ID = KS_SHOUSHO.MS_SHOUSHO_ID
		WHERE
		KS_SHOUSHO.MS_SHOUSHO_ID = :MS_SHOUSHO_ID
	</sql>


	<sql name="GetRecordsBy船ID">
		SELECT
		KS_SHOUSHO.KS_SHOUSHO_ID,
		KS_SHOUSHO.MS_SHOUSHO_ID,
		KS_SHOUSHO.MS_VESSEL_ID,
		KS_SHOUSHO.YUKOUKIGEN,
		KS_SHOUSHO.ALARM_DATE,
		KS_SHOUSHO.JISEKITOUROKU_USER,
		KS_SHOUSHO.JISEKITOUROKU_DATE,
		KS_SHOUSHO.BIKOU,
		KS_SHOUSHO.DELETE_FLAG,
		KS_SHOUSHO.SEND_FLAG,
		KS_SHOUSHO.VESSEL_ID,
		KS_SHOUSHO.DATA_NO,
		KS_SHOUSHO.USER_KEY,
		KS_SHOUSHO.RENEW_DATE,
		KS_SHOUSHO.RENEW_USER_ID,
		KS_SHOUSHO.TS,

		MS_SHOUSHO.MS_SHOUSHO_NAME

		FROM
		KS_SHOUSHO
		LEFT OUTER JOIN MS_SHOUSHO ON MS_SHOUSHO.MS_SHOUSHO_ID = KS_SHOUSHO.MS_SHOUSHO_ID
		WHERE
		(KS_SHOUSHO.MS_VESSEL_ID = :MS_VESSEL_ID) AND
		(KS_SHOUSHO.DELETE_FLAG = 0)
		
		ORDER BY
		KS_SHOUSHO.YUKOUKIGEN
	</sql>

	<sql name="GetRecordsBy船ID_予定データ">
		SELECT
		KS_SHOUSHO.KS_SHOUSHO_ID,
		KS_SHOUSHO.MS_SHOUSHO_ID,
		KS_SHOUSHO.MS_VESSEL_ID,
		KS_SHOUSHO.YUKOUKIGEN,
		KS_SHOUSHO.ALARM_DATE,
		KS_SHOUSHO.JISEKITOUROKU_USER,
		KS_SHOUSHO.JISEKITOUROKU_DATE,
		KS_SHOUSHO.BIKOU,
		KS_SHOUSHO.DELETE_FLAG,
		KS_SHOUSHO.SEND_FLAG,
		KS_SHOUSHO.VESSEL_ID,
		KS_SHOUSHO.DATA_NO,
		KS_SHOUSHO.USER_KEY,
		KS_SHOUSHO.RENEW_DATE,
		KS_SHOUSHO.RENEW_USER_ID,
		KS_SHOUSHO.TS,

		MS_SHOUSHO.MS_SHOUSHO_NAME

		FROM
		KS_SHOUSHO
		LEFT OUTER JOIN MS_SHOUSHO ON MS_SHOUSHO.MS_SHOUSHO_ID = KS_SHOUSHO.MS_SHOUSHO_ID
		WHERE
		(KS_SHOUSHO.MS_VESSEL_ID = :MS_VESSEL_ID) AND
		(KS_SHOUSHO.JISEKITOUROKU_USER IS NULL) AND
		(KS_SHOUSHO.JISEKITOUROKU_DATE IS NULL) AND
		(KS_SHOUSHO.DELETE_FLAG = 0)
		ORDER BY
		KS_SHOUSHO.YUKOUKIGEN
	</sql>

	<sql name="GetRecordsFor船_指定検査_予定">
		SELECT
		KS_SHOUSHO.KS_SHOUSHO_ID,
		KS_SHOUSHO.MS_SHOUSHO_ID,
		KS_SHOUSHO.MS_VESSEL_ID,
		KS_SHOUSHO.YUKOUKIGEN,
		KS_SHOUSHO.ALARM_DATE,
		KS_SHOUSHO.JISEKITOUROKU_USER,
		KS_SHOUSHO.JISEKITOUROKU_DATE,
		KS_SHOUSHO.BIKOU,
		KS_SHOUSHO.DELETE_FLAG,
		KS_SHOUSHO.SEND_FLAG,
		KS_SHOUSHO.VESSEL_ID,
		KS_SHOUSHO.DATA_NO,
		KS_SHOUSHO.USER_KEY,
		KS_SHOUSHO.RENEW_DATE,
		KS_SHOUSHO.RENEW_USER_ID,
		KS_SHOUSHO.TS,

		MS_SHOUSHO.MS_SHOUSHO_NAME

		FROM
		KS_SHOUSHO
		LEFT OUTER JOIN MS_SHOUSHO ON MS_SHOUSHO.MS_SHOUSHO_ID = KS_SHOUSHO.MS_SHOUSHO_ID
		LEFT OUTER JOIN KS_SHOUSHO_KENSA_LINK ON KS_SHOUSHO_KENSA_LINK.KS_SHOUSHO_ID = KS_SHOUSHO.KS_SHOUSHO_ID
		WHERE
		(KS_SHOUSHO.MS_VESSEL_ID = :MS_VESSEL_ID) AND
		(KS_SHOUSHO_KENSA_LINK.MS_KENSA_ID = :MS_KENSA_ID) AND
		(KS_SHOUSHO.JISEKITOUROKU_USER IS NULL) AND
		(KS_SHOUSHO.JISEKITOUROKU_DATE IS NULL) AND
		(KS_SHOUSHO.DELETE_FLAG = 0)	/*削除されてない*/
	</sql>

	<sql name="GetRecordsFor船_指定検船_予定">
		SELECT
		KS_SHOUSHO.KS_SHOUSHO_ID,
		KS_SHOUSHO.MS_SHOUSHO_ID,
		KS_SHOUSHO.MS_VESSEL_ID,
		KS_SHOUSHO.YUKOUKIGEN,
		KS_SHOUSHO.ALARM_DATE,
		KS_SHOUSHO.JISEKITOUROKU_USER,
		KS_SHOUSHO.JISEKITOUROKU_DATE,
		KS_SHOUSHO.BIKOU,
		KS_SHOUSHO.DELETE_FLAG,
		KS_SHOUSHO.SEND_FLAG,
		KS_SHOUSHO.VESSEL_ID,
		KS_SHOUSHO.DATA_NO,
		KS_SHOUSHO.USER_KEY,
		KS_SHOUSHO.RENEW_DATE,
		KS_SHOUSHO.RENEW_USER_ID,
		KS_SHOUSHO.TS,

		MS_SHOUSHO.MS_SHOUSHO_NAME

		FROM
		KS_SHOUSHO
		LEFT OUTER JOIN MS_SHOUSHO ON MS_SHOUSHO.MS_SHOUSHO_ID = KS_SHOUSHO.MS_SHOUSHO_ID
		LEFT OUTER JOIN KS_SHOUSHO_KENSEN_LINK ON KS_SHOUSHO_KENSEN_LINK.KS_SHOUSHO_ID = KS_SHOUSHO.KS_SHOUSHO_ID
		WHERE
		(KS_SHOUSHO.MS_VESSEL_ID = :MS_VESSEL_ID) AND
		(KS_SHOUSHO_KENSEN_LINK.MS_KENSEN_ID = :MS_KENSEN_ID) AND
		(KS_SHOUSHO.JISEKITOUROKU_USER IS NULL) AND
		(KS_SHOUSHO.JISEKITOUROKU_DATE IS NULL) AND
		(KS_SHOUSHO.DELETE_FLAG = 0)	/*削除されていない*/
	</sql>

	<sql name="GetRecordsFor船_指定審査_予定">
		SELECT
		KS_SHOUSHO.KS_SHOUSHO_ID,
		KS_SHOUSHO.MS_SHOUSHO_ID,
		KS_SHOUSHO.MS_VESSEL_ID,
		KS_SHOUSHO.YUKOUKIGEN,
		KS_SHOUSHO.ALARM_DATE,
		KS_SHOUSHO.JISEKITOUROKU_USER,
		KS_SHOUSHO.JISEKITOUROKU_DATE,
		KS_SHOUSHO.BIKOU,
		KS_SHOUSHO.DELETE_FLAG,
		KS_SHOUSHO.SEND_FLAG,
		KS_SHOUSHO.VESSEL_ID,
		KS_SHOUSHO.DATA_NO,
		KS_SHOUSHO.USER_KEY,
		KS_SHOUSHO.RENEW_DATE,
		KS_SHOUSHO.RENEW_USER_ID,
		KS_SHOUSHO.TS,

		MS_SHOUSHO.MS_SHOUSHO_NAME

		FROM
		KS_SHOUSHO
		LEFT OUTER JOIN MS_SHOUSHO ON MS_SHOUSHO.MS_SHOUSHO_ID = KS_SHOUSHO.MS_SHOUSHO_ID
		LEFT OUTER JOIN KS_SHOUSHO_SHINSA_LINK ON KS_SHOUSHO_SHINSA_LINK.KS_SHOUSHO_ID = KS_SHOUSHO.KS_SHOUSHO_ID
		WHERE
		(KS_SHOUSHO.MS_VESSEL_ID = :MS_VESSEL_ID) AND
		(KS_SHOUSHO_SHINSA_LINK.MS_SHINSA_ID = :MS_SHINSA_ID) AND
		(KS_SHOUSHO.JISEKITOUROKU_USER IS NULL) AND
		(KS_SHOUSHO.JISEKITOUROKU_DATE IS NULL) AND
		(KS_SHOUSHO.DELETE_FLAG = 0)	/*削除されていない*/
	</sql>
	
	<sql name="GetRecord">
		SELECT
		KS_SHOUSHO.KS_SHOUSHO_ID,
		KS_SHOUSHO.MS_SHOUSHO_ID,
		KS_SHOUSHO.MS_VESSEL_ID,
		KS_SHOUSHO.YUKOUKIGEN,
		KS_SHOUSHO.ALARM_DATE,
		KS_SHOUSHO.JISEKITOUROKU_USER,
		KS_SHOUSHO.JISEKITOUROKU_DATE,
		KS_SHOUSHO.BIKOU,
		KS_SHOUSHO.DELETE_FLAG,
		KS_SHOUSHO.SEND_FLAG,
		KS_SHOUSHO.VESSEL_ID,
		KS_SHOUSHO.DATA_NO,
		KS_SHOUSHO.USER_KEY,
		KS_SHOUSHO.RENEW_DATE,
		KS_SHOUSHO.RENEW_USER_ID,
		KS_SHOUSHO.TS,
		
		MS_SHOUSHO.MS_SHOUSHO_NAME
		
		FROM
		KS_SHOUSHO
		LEFT OUTER JOIN MS_SHOUSHO ON MS_SHOUSHO.MS_SHOUSHO_ID = KS_SHOUSHO.MS_SHOUSHO_ID

		WHERE
		KS_SHOUSHO.KS_SHOUSHO_ID = :KS_SHOUSHO_ID
	</sql>

	<sql name="InsertRecord">
		INSERT INTO KS_SHOUSHO(
		KS_SHOUSHO_ID,
		MS_SHOUSHO_ID,
		MS_VESSEL_ID,
		YUKOUKIGEN,
		ALARM_DATE,
		JISEKITOUROKU_USER,
		JISEKITOUROKU_DATE,
		BIKOU,
		DELETE_FLAG,
		SEND_FLAG,
		VESSEL_ID,
		DATA_NO,
		USER_KEY,
		RENEW_DATE,
		RENEW_USER_ID,
		TS
		)
		VALUES(
		:KS_SHOUSHO_ID,
		:MS_SHOUSHO_ID,
		:MS_VESSEL_ID,
		:YUKOUKIGEN,
		:ALARM_DATE,
		:JISEKITOUROKU_USER,
		:JISEKITOUROKU_DATE,
		:BIKOU,
		:DELETE_FLAG,
		:SEND_FLAG,
		:VESSEL_ID,
		:DATA_NO,
		:USER_KEY,
		:RENEW_DATE,
		:RENEW_USER_ID,
		:TS
		)
	</sql>

	<sql name="UpdateRecord">
		UPDATE KS_SHOUSHO SET
		MS_SHOUSHO_ID = :MS_SHOUSHO_ID,
		MS_VESSEL_ID = :MS_VESSEL_ID,
		YUKOUKIGEN = :YUKOUKIGEN,
		ALARM_DATE = :ALARM_DATE,
		JISEKITOUROKU_USER = :JISEKITOUROKU_USER,
		JISEKITOUROKU_DATE = :JISEKITOUROKU_DATE,
		BIKOU = :BIKOU,
		DELETE_FLAG = :DELETE_FLAG,
		SEND_FLAG = :SEND_FLAG,
		VESSEL_ID = :VESSEL_ID,
		DATA_NO = :DATA_NO,
		USER_KEY = :USER_KEY,
		RENEW_DATE = :RENEW_DATE,
		RENEW_USER_ID = :RENEW_USER_ID
		WHERE
		(KS_SHOUSHO_ID = :KS_SHOUSHO_ID) AND
		(TS = :TS)
	</sql>


</databaseConfig>
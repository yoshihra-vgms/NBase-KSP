<?xml version="1.0" encoding="utf-8" ?>

<databaseConfig>

	<sql name="GetRecords">
    SELECT
    MS_HIMOKU_ID,
    HIMOKU_NAME,
    MS_BUMON_ID,
    RENEW_DATE,
    RENEW_USER_ID,
    KIKAN_HIMOKU_ID,
    TS
    FROM MS_HIMOKU
    ORDER BY MS_HIMOKU_ID
  </sql>

  <sql name="GetRecordsWithMsKamoku">
    SELECT
    MS_HIMOKU.MS_HIMOKU_ID,
    MS_HIMOKU.HIMOKU_NAME,
    MS_HIMOKU.MS_BUMON_ID,
    MS_HIMOKU.RENEW_DATE,
    MS_HIMOKU.RENEW_USER_ID,
    MS_HIMOKU.TS,
    MS_HIMOKU.KIKAN_HIMOKU_ID,
    MS_KAMOKU.MS_KAMOKU_ID,
    MS_KAMOKU.FUGOU

    FROM MS_HIMOKU

    LEFT JOIN MS_HIMOKU_KAMOKU ON MS_HIMOKU_KAMOKU.MS_HIMOKU_ID = MS_HIMOKU.MS_HIMOKU_ID
    LEFT JOIN MS_KAMOKU ON MS_HIMOKU_KAMOKU.MS_KAMOKU_ID = MS_KAMOKU.MS_KAMOKU_ID
  </sql>

  <sql name="GetRecord">
    SELECT
    MS_HIMOKU_ID,
    HIMOKU_NAME,
    MS_BUMON_ID,
    RENEW_DATE,
    RENEW_USER_ID,
    KIKAN_HIMOKU_ID,
    TS
    FROM MS_HIMOKU
    WHERE
    MS_HIMOKU.MS_HIMOKU_ID = :MS_HIMOKU_ID
  </sql>

  <sql name="GetRecordsByMsBumonID">
    SELECT
    MS_HIMOKU.MS_HIMOKU_ID,
    MS_HIMOKU.HIMOKU_NAME,
    MS_HIMOKU.MS_BUMON_ID,
    MS_HIMOKU.RENEW_DATE,
    MS_HIMOKU.RENEW_USER_ID,
    MS_HIMOKU.KIKAN_HIMOKU_ID,
    MS_HIMOKU.TS
    FROM MS_HIMOKU
    WHERE MS_HIMOKU.MS_BUMON_ID = :MS_BUMON_ID
  </sql>
  

	<sql name="InsertRecord">
    INSERT INTO MS_HIMOKU
    (
    MS_HIMOKU_ID,
    HIMOKU_NAME,
    MS_BUMON_ID,
    KIKAN_HIMOKU_ID,
    RENEW_DATE,
    RENEW_USER_ID,
    TS
    )
    VALUES
    (
    :MS_HIMOKU_ID,
    :HIMOKU_NAME,
    :MS_BUMON_ID,
    :KIKAN_HIMOKU_ID,
    :RENEW_DATE,
    :RENEW_USER_ID,
    :TS
    )
  </sql>

	<sql name="UpdateRecord">
    UPDATE MS_HIMOKU SET
    HIMOKU_NAME = :HIMOKU_NAME,
    MS_BUMON_ID = :MS_BUMON_ID,
    KIKAN_HIMOKU_ID = :KIKAN_HIMOKU_ID,
    RENEW_DATE = :RENEW_DATE,
    RENEW_USER_ID = :RENEW_USER_ID
    WHERE
    (MS_HIMOKU_ID = :MS_HIMOKU_ID) AND
    (TS = :TS)
  </sql>

</databaseConfig>
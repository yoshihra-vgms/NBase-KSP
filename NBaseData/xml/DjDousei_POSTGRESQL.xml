<?xml version="1.0" encoding="utf-8" ?>

<databaseConfig>
  <sql name="WhereByHead">
	  and DJ_DOUSEI.MS_VESSEL_ID = :MS_VESSEL_ID
	  and DJ_DOUSEI.DOUSEI_DATE between :FROM_DATE and :TO_DATE
	  and DJ_DOUSEI.KIKAN_RENKEI_FLAG &lt;= :KIKAN_RENKEI_FLAG
  </sql>

  <sql name="WhereByDate">
    and DJ_DOUSEI.MS_VESSEL_ID = :MS_VESSEL_ID
    and ( TO_CHAR(DJ_DOUSEI.PLAN_NYUKO,'YYYY/MM/DD') = :DATE
    or TO_CHAR(DJ_DOUSEI.PLAN_SHUKOU,'YYYY/MM/DD') = :DATE
    or TO_CHAR(DJ_DOUSEI.RESULT_NYUKO,'YYYY/MM/DD') = :DATE
    or TO_CHAR(DJ_DOUSEI.RESULT_SHUKOU,'YYYY/MM/DD') = :DATE
    or TO_CHAR(DJ_DOUSEI.DOUSEI_DATE,'YYYY/MM/DD') = :DATE)
  </sql>

  <sql name="OrderBy">
    order by DJ_DOUSEI.DOUSEI_DATE,DJ_DOUSEI.PLAN_NYUKO,DJ_DOUSEI.RESULT_NYUKO
  </sql>

	<sql name="GroupByMsVesselIDVoyageNo">
    select DJ_DOUSEI.MS_VESSEL_ID,DJ_DOUSEI.VOYAGE_NO from DJ_DOUSEI
    where DJ_DOUSEI.MS_VESSEL_ID = :MS_VESSEL_ID
    and DJ_DOUSEI.DOUSEI_DATE between :FROM_DATE and :TO_DATE
    and DJ_DOUSEI.DELETE_FLAG = 0

    group by DJ_DOUSEI.MS_VESSEL_ID,DJ_DOUSEI.VOYAGE_NO
    order by DJ_DOUSEI.MS_VESSEL_ID,DJ_DOUSEI.VOYAGE_NO

  </sql>

	<sql name="OrderByTIME">
		select DJ_DOUSEI.DJ_DOUSEI_ID from DJ_DOUSEI
		where DJ_DOUSEI.MS_VESSEL_ID = :MS_VESSEL_ID
		and DJ_DOUSEI.VOYAGE_NO = :VOYAGE_NO
		and DJ_DOUSEI.KIKAN_RENKEI_FLAG &lt;= :KIKAN_RENKEI_FLAG
    and DJ_DOUSEI.DELETE_FLAG = 0

    order by
    DJ_DOUSEI.DOUSEI_DATE,
    DJ_DOUSEI.MS_KANIDOUSEI_INFO_SHUBETU_ID,
    DJ_DOUSEI.PLAN_NYUKO          ,
    DJ_DOUSEI.PLAN_CHAKUSAN       ,
    DJ_DOUSEI.PLAN_NIYAKU_START   ,
    DJ_DOUSEI.PLAN_NIYAKU_END     ,
    DJ_DOUSEI.PLAN_RISAN          ,
    DJ_DOUSEI.PLAN_SHUKOU         ,
    DJ_DOUSEI.RESULT_NYUKO        ,
    DJ_DOUSEI.RESULT_CHAKUSAN     ,
    DJ_DOUSEI.RESULT_NIYAKU_START ,
    DJ_DOUSEI.RESULT_NIYAKU_END   ,
    DJ_DOUSEI.RESULT_RISAN        ,
    DJ_DOUSEI.RESULT_SHUKOU       ,
    DJ_DOUSEI.DAIRITEN_ID,
    DJ_DOUSEI.NINUSHI_ID,
    DJ_DOUSEI.BIKOU,
    DJ_DOUSEI.RESULT_DAIRITEN_ID,
    DJ_DOUSEI.RESULT_NINUSHI_ID,
    DJ_DOUSEI.RESULT_BIKOU
  </sql>
	
	<sql name="GetRecordsByNoVoyage">
    select
    DJ_DOUSEI.DJ_DOUSEI_ID        ,
    DJ_DOUSEI.MS_VESSEL_ID,
    DJ_DOUSEI.MS_KANIDOUSEI_INFO_SHUBETU_ID     ,
    DJ_DOUSEI.VOYAGE_NO,
    DJ_DOUSEI.KIKAN_RENKEI_FLAG,
    DJ_DOUSEI.NAVICODE            ,
    DJ_DOUSEI.MS_BASHO_ID         ,
    DJ_DOUSEI.MS_KICHI_ID         ,
    DJ_DOUSEI.DOUSEI_DATE,
    DJ_DOUSEI.PLAN_NYUKO          ,
    DJ_DOUSEI.PLAN_CHAKUSAN       ,
    DJ_DOUSEI.PLAN_NIYAKU_START   ,
    DJ_DOUSEI.PLAN_NIYAKU_END     ,
    DJ_DOUSEI.PLAN_RISAN          ,
    DJ_DOUSEI.PLAN_SHUKOU         ,
    DJ_DOUSEI.RESULT_NYUKO        ,
    DJ_DOUSEI.RESULT_CHAKUSAN     ,
    DJ_DOUSEI.RESULT_NIYAKU_START ,
    DJ_DOUSEI.RESULT_NIYAKU_END   ,
    DJ_DOUSEI.RESULT_RISAN        ,
    DJ_DOUSEI.RESULT_SHUKOU       ,
    DJ_DOUSEI.RECORD_DATETIME     ,
    DJ_DOUSEI.KIKAN_VOYAGE_NO,
    DJ_DOUSEI.KOMA_NO,
    DJ_DOUSEI.RESULT_MS_BASHO_ID         ,
    DJ_DOUSEI.RESULT_MS_KICHI_ID         ,
    DJ_DOUSEI.DAIRITEN_ID,
    DJ_DOUSEI.NINUSHI_ID,
    DJ_DOUSEI.BIKOU,
    DJ_DOUSEI.RESULT_DAIRITEN_ID,
    DJ_DOUSEI.RESULT_NINUSHI_ID,
    DJ_DOUSEI.RESULT_BIKOU,

    DJ_DOUSEI.DELETE_FLAG,
    DJ_DOUSEI.SEND_FLAG,
    DJ_DOUSEI.VESSEL_ID,
    DJ_DOUSEI.DATA_NO,
    DJ_DOUSEI.USER_KEY,
    DJ_DOUSEI.RENEW_DATE,
    DJ_DOUSEI.RENEW_USER_ID,
    DJ_DOUSEI.TS,

    MS_KANIDOUSEI_INFO_SHUBETU.KANIDOUSEI_INFO_SHUBETU_NAME,
    MS_KANIDOUSEI_INFO_SHUBETU.KIKAN_NO as KIKAN_NO,
    MS_BASHO.BASHO_NAME,
    MS_BASHO.MS_BASHO_NO,
    MS_KICHI.KICHI_NO,
    MS_KICHI.KICHI_NAME,
    MS_VESSEL.VESSEL_NO,
    RSLT_BASHO.BASHO_NAME as RESULT_BASHO_NAME,
    RSLT_BASHO.MS_BASHO_NO as RESULT_MS_BASHO_NO,
    RSLT_KICHI.KICHI_NAME as RESULT_KICHI_NAME,
    RSLT_KICHI.KICHI_NO as RESULT_KICHI_NO


    from DJ_DOUSEI
    inner join MS_KANIDOUSEI_INFO_SHUBETU on MS_KANIDOUSEI_INFO_SHUBETU.MS_KANIDOUSEI_INFO_SHUBETU_ID = DJ_DOUSEI.MS_KANIDOUSEI_INFO_SHUBETU_ID
    inner join MS_BASHO on MS_BASHO.MS_BASHO_ID = DJ_DOUSEI.MS_BASHO_ID
    left join MS_KICHI on MS_KICHI.MS_KICHI_ID = DJ_DOUSEI.MS_KICHI_ID
    inner join MS_VESSEL on MS_VESSEL.MS_VESSEL_ID = DJ_DOUSEI.MS_VESSEL_ID
    left join MS_BASHO RSLT_BASHO on RSLT_BASHO.MS_BASHO_ID = DJ_DOUSEI.RESULT_MS_BASHO_ID
    left join MS_KICHI RSLT_KICHI on RSLT_KICHI.MS_KICHI_ID = DJ_DOUSEI.RESULT_MS_KICHI_ID

    where DJ_DOUSEI.DELETE_FLAG = 0
    and DJ_DOUSEI.VOYAGE_NO is null
    and DJ_DOUSEI.MS_VESSEL_ID = :MS_VESSEL_ID
    and DJ_DOUSEI.DOUSEI_DATE between :FROM_DATE and :TO_DATE
    and DJ_DOUSEI.KIKAN_RENKEI_FLAG &lt;= :KIKAN_RENKEI_FLAG

  </sql>
	
	<sql name="GetRecord">
    select
    DJ_DOUSEI.DJ_DOUSEI_ID        ,
    DJ_DOUSEI.MS_VESSEL_ID,
    DJ_DOUSEI.MS_KANIDOUSEI_INFO_SHUBETU_ID     ,
    DJ_DOUSEI.VOYAGE_NO,
    DJ_DOUSEI.KIKAN_RENKEI_FLAG,
    DJ_DOUSEI.NAVICODE            ,
    DJ_DOUSEI.MS_BASHO_ID         ,
    DJ_DOUSEI.MS_KICHI_ID         ,
    DJ_DOUSEI.DOUSEI_DATE,
    DJ_DOUSEI.PLAN_NYUKO          ,
    DJ_DOUSEI.PLAN_CHAKUSAN       ,
    DJ_DOUSEI.PLAN_NIYAKU_START   ,
    DJ_DOUSEI.PLAN_NIYAKU_END     ,
    DJ_DOUSEI.PLAN_RISAN          ,
    DJ_DOUSEI.PLAN_SHUKOU         ,
    DJ_DOUSEI.RESULT_NYUKO        ,
    DJ_DOUSEI.RESULT_CHAKUSAN     ,
    DJ_DOUSEI.RESULT_NIYAKU_START ,
    DJ_DOUSEI.RESULT_NIYAKU_END   ,
    DJ_DOUSEI.RESULT_RISAN        ,
    DJ_DOUSEI.RESULT_SHUKOU       ,
    DJ_DOUSEI.RECORD_DATETIME     ,
    DJ_DOUSEI.KIKAN_VOYAGE_NO,
    DJ_DOUSEI.KOMA_NO,
    DJ_DOUSEI.RESULT_MS_BASHO_ID         ,
    DJ_DOUSEI.RESULT_MS_KICHI_ID         ,
    DJ_DOUSEI.DAIRITEN_ID,
    DJ_DOUSEI.NINUSHI_ID,
    DJ_DOUSEI.BIKOU,
    DJ_DOUSEI.RESULT_DAIRITEN_ID,
    DJ_DOUSEI.RESULT_NINUSHI_ID,
    DJ_DOUSEI.RESULT_BIKOU,

    DJ_DOUSEI.DELETE_FLAG,
    DJ_DOUSEI.SEND_FLAG,
    DJ_DOUSEI.VESSEL_ID,
    DJ_DOUSEI.DATA_NO,
    DJ_DOUSEI.USER_KEY,
    DJ_DOUSEI.RENEW_DATE,
    DJ_DOUSEI.RENEW_USER_ID,
    DJ_DOUSEI.TS,

    MS_KANIDOUSEI_INFO_SHUBETU.KANIDOUSEI_INFO_SHUBETU_NAME,
    MS_KANIDOUSEI_INFO_SHUBETU.KIKAN_NO as KIKAN_NO,
    MS_BASHO.BASHO_NAME,
    MS_BASHO.MS_BASHO_NO,
    MS_KICHI.KICHI_NO,
    MS_KICHI.KICHI_NAME,
    MS_VESSEL.VESSEL_NO,
    RSLT_BASHO.BASHO_NAME as RESULT_BASHO_NAME,
    RSLT_BASHO.MS_BASHO_NO as RESULT_MS_BASHO_NO,
    RSLT_KICHI.KICHI_NAME as RESULT_KICHI_NAME,
    RSLT_KICHI.KICHI_NO as RESULT_KICHI_NO

    from DJ_DOUSEI
    inner join MS_KANIDOUSEI_INFO_SHUBETU on MS_KANIDOUSEI_INFO_SHUBETU.MS_KANIDOUSEI_INFO_SHUBETU_ID = DJ_DOUSEI.MS_KANIDOUSEI_INFO_SHUBETU_ID
    inner join MS_BASHO on MS_BASHO.MS_BASHO_ID = DJ_DOUSEI.MS_BASHO_ID
    left join MS_KICHI on MS_KICHI.MS_KICHI_ID = DJ_DOUSEI.MS_KICHI_ID
    inner join MS_VESSEL on MS_VESSEL.MS_VESSEL_ID = DJ_DOUSEI.MS_VESSEL_ID
    left join MS_BASHO RSLT_BASHO on RSLT_BASHO.MS_BASHO_ID = DJ_DOUSEI.RESULT_MS_BASHO_ID
    left join MS_KICHI RSLT_KICHI on RSLT_KICHI.MS_KICHI_ID = DJ_DOUSEI.RESULT_MS_KICHI_ID

  </sql>
	
	<sql name="GetRecords">
    select
    DJ_DOUSEI.DJ_DOUSEI_ID        ,
    DJ_DOUSEI.MS_VESSEL_ID,
    DJ_DOUSEI.MS_KANIDOUSEI_INFO_SHUBETU_ID     ,
    DJ_DOUSEI.VOYAGE_NO,
    DJ_DOUSEI.KIKAN_RENKEI_FLAG,
    DJ_DOUSEI.NAVICODE            ,
    DJ_DOUSEI.MS_BASHO_ID         ,
    DJ_DOUSEI.MS_KICHI_ID         ,
    DJ_DOUSEI.DOUSEI_DATE,
    DJ_DOUSEI.PLAN_NYUKO          ,
    DJ_DOUSEI.PLAN_CHAKUSAN       ,
    DJ_DOUSEI.PLAN_NIYAKU_START   ,
    DJ_DOUSEI.PLAN_NIYAKU_END     ,
    DJ_DOUSEI.PLAN_RISAN          ,
    DJ_DOUSEI.PLAN_SHUKOU         ,
    DJ_DOUSEI.RESULT_NYUKO        ,
    DJ_DOUSEI.RESULT_CHAKUSAN     ,
    DJ_DOUSEI.RESULT_NIYAKU_START ,
    DJ_DOUSEI.RESULT_NIYAKU_END   ,
    DJ_DOUSEI.RESULT_RISAN        ,
    DJ_DOUSEI.RESULT_SHUKOU       ,
    DJ_DOUSEI.RECORD_DATETIME     ,
    DJ_DOUSEI.KIKAN_VOYAGE_NO,
    DJ_DOUSEI.KOMA_NO,
    DJ_DOUSEI.RESULT_MS_BASHO_ID         ,
    DJ_DOUSEI.RESULT_MS_KICHI_ID         ,
    DJ_DOUSEI.DAIRITEN_ID,
    DJ_DOUSEI.NINUSHI_ID,
    DJ_DOUSEI.BIKOU,
    DJ_DOUSEI.RESULT_DAIRITEN_ID,
    DJ_DOUSEI.RESULT_NINUSHI_ID,
    DJ_DOUSEI.RESULT_BIKOU,

    DJ_DOUSEI.DELETE_FLAG,
    DJ_DOUSEI.SEND_FLAG,
    DJ_DOUSEI.VESSEL_ID,
    DJ_DOUSEI.DATA_NO,
    DJ_DOUSEI.USER_KEY,
    DJ_DOUSEI.RENEW_DATE,
    DJ_DOUSEI.RENEW_USER_ID,
    DJ_DOUSEI.TS,

    MS_KANIDOUSEI_INFO_SHUBETU.KANIDOUSEI_INFO_SHUBETU_NAME,
    MS_KANIDOUSEI_INFO_SHUBETU.KIKAN_NO as KIKAN_NO,
    MS_BASHO.BASHO_NAME,
    MS_BASHO.MS_BASHO_NO,
    MS_KICHI.KICHI_NO,
    MS_KICHI.KICHI_NAME,
    MS_VESSEL.VESSEL_NO,
    RSLT_BASHO.BASHO_NAME as RESULT_BASHO_NAME,
    RSLT_BASHO.MS_BASHO_NO as RESULT_MS_BASHO_NO,
    RSLT_KICHI.KICHI_NAME as RESULT_KICHI_NAME,
    RSLT_KICHI.KICHI_NO as RESULT_KICHI_NO

    from DJ_DOUSEI
    inner join MS_KANIDOUSEI_INFO_SHUBETU on MS_KANIDOUSEI_INFO_SHUBETU.MS_KANIDOUSEI_INFO_SHUBETU_ID = DJ_DOUSEI.MS_KANIDOUSEI_INFO_SHUBETU_ID
    inner join MS_BASHO on MS_BASHO.MS_BASHO_ID = DJ_DOUSEI.MS_BASHO_ID
    left join MS_KICHI on MS_KICHI.MS_KICHI_ID = DJ_DOUSEI.MS_KICHI_ID
    inner join MS_VESSEL on MS_VESSEL.MS_VESSEL_ID = DJ_DOUSEI.MS_VESSEL_ID
    left join MS_BASHO RSLT_BASHO on RSLT_BASHO.MS_BASHO_ID = DJ_DOUSEI.RESULT_MS_BASHO_ID
    left join MS_KICHI RSLT_KICHI on RSLT_KICHI.MS_KICHI_ID = DJ_DOUSEI.RESULT_MS_KICHI_ID

    where DJ_DOUSEI.DELETE_FLAG = 0
    and MS_VESSEL.MS_VESSEL_ID = :MS_VESSEL_ID

  </sql>
  

	<sql name="GetRecordByMaxRecordDateTime">
		select
		max(DJ_DOUSEI.RECORD_DATETIME)  as RECORD_DATETIME  

		from DJ_DOUSEI
		where DJ_DOUSEI.DELETE_FLAG = 0
		
		
	</sql>
	<sql name="Where">
		where DJ_DOUSEI.DJ_DOUSEI_ID = :DJ_DOUSEI_ID
	</sql>

	<sql name="ByNaviCode">
		where DJ_DOUSEI.NAVICODE = :NAVICODE
	</sql>
	
	<sql name="WhereByVoaygeNo">
		where DJ_DOUSEI.VOYAGE_NO = :VOYAGE_NO
		and DJ_DOUSEI.VOYAGE_NO is not null
		and DJ_DOUSEI.MS_VESSEL_ID = :MS_VESSEL_ID
		and DJ_DOUSEI.DELETE_FLAG = 0
	</sql>
	
	<sql name="Exists_ORG">
		select
		DJ_DOUSEI.DJ_DOUSEI_ID

		from DJ_DOUSEI
		where DJ_DOUSEI.DELETE_FLAG = 0
		and DJ_DOUSEI_ID = :DJ_DOUSEI_ID
	</sql>

	<sql name="ByMsKichiID">
		where DJ_DOUSEI.MS_KICHI_ID = :MS_KICHI_ID
	</sql>

	<sql name="ByMsBashoID">
		where DJ_DOUSEI.MS_BASHO_ID = :MS_BASHO_ID
	</sql>
  
  <sql name="GetVesselIds">
		select
		distinct MS_VESSEL_ID
		from DJ_DOUSEI
		where DJ_DOUSEI.DELETE_FLAG = 0
	</sql>
  
	<sql name="InsertRecord">
    insert into DJ_DOUSEI(
    DJ_DOUSEI_ID                  ,
    MS_VESSEL_ID                  ,
    NAVICODE                      ,
    VOYAGE_NO                     ,
    KIKAN_RENKEI_FLAG             ,
    MS_BASHO_ID                   ,
    MS_KICHI_ID                   ,
    DOUSEI_DATE                   ,
    MS_KANIDOUSEI_INFO_SHUBETU_ID ,
    PLAN_NYUKO                    ,
    PLAN_CHAKUSAN                 ,
    PLAN_NIYAKU_START             ,
    PLAN_NIYAKU_END               ,
    PLAN_RISAN                    ,
    PLAN_SHUKOU                   ,
    RESULT_NYUKO                  ,
    RESULT_CHAKUSAN               ,
    RESULT_NIYAKU_START           ,
    RESULT_NIYAKU_END             ,
    RESULT_RISAN                  ,
    RESULT_SHUKOU                 ,
    RECORD_DATETIME               ,
    KIKAN_VOYAGE_NO,
    KOMA_NO,
    RESULT_MS_BASHO_ID,
    RESULT_MS_KICHI_ID,
    DAIRITEN_ID,
    NINUSHI_ID,
    BIKOU,
    RESULT_DAIRITEN_ID,
    RESULT_NINUSHI_ID,
    RESULT_BIKOU,

    DELETE_FLAG     ,
    SEND_FLAG       ,
    VESSEL_ID       ,
    DATA_NO         ,
    USER_KEY        ,
    RENEW_DATE      ,
    RENEW_USER_ID   ,
    TS

    )values(
    :DJ_DOUSEI_ID			      ,
    :MS_VESSEL_ID                  ,
    :NAVICODE                      ,
    :VOYAGE_NO                     ,
    :KIKAN_RENKEI_FLAG             ,
    :MS_BASHO_ID                   ,
    :MS_KICHI_ID                   ,
    :DOUSEI_DATE                   ,
    :MS_KANIDOUSEI_INFO_SHUBETU_ID ,
    :PLAN_NYUKO                    ,
    :PLAN_CHAKUSAN                 ,
    :PLAN_NIYAKU_START             ,
    :PLAN_NIYAKU_END               ,
    :PLAN_RISAN                    ,
    :PLAN_SHUKOU                   ,
    :RESULT_NYUKO                  ,
    :RESULT_CHAKUSAN               ,
    :RESULT_NIYAKU_START           ,
    :RESULT_NIYAKU_END             ,
    :RESULT_RISAN                  ,
    :RESULT_SHUKOU                 ,
    :RECORD_DATETIME               ,
    :KIKAN_VOYAGE_NO,
    :KOMA_NO,
    :RESULT_MS_BASHO_ID,
    :RESULT_MS_KICHI_ID,
    :DAIRITEN_ID,
    :NINUSHI_ID,
    :BIKOU,
    :RESULT_DAIRITEN_ID,
    :RESULT_NINUSHI_ID,
    :RESULT_BIKOU,

    :DELETE_FLAG     ,
    :SEND_FLAG       ,
    :VESSEL_ID       ,
    :DATA_NO         ,
    :USER_KEY        ,
    :RENEW_DATE      ,
    :RENEW_USER_ID   ,
    :TS
    )
  </sql>

	<sql name="UpdateRecord">
    update DJ_DOUSEI set
    MS_VESSEL_ID = :MS_VESSEL_ID,
    NAVICODE = :NAVICODE,
    VOYAGE_NO = :VOYAGE_NO,
    KIKAN_RENKEI_FLAG = :KIKAN_RENKEI_FLAG,
    MS_BASHO_ID = :MS_BASHO_ID,
    MS_KICHI_ID = :MS_KICHI_ID,
    DOUSEI_DATE = :DOUSEI_DATE,
    MS_KANIDOUSEI_INFO_SHUBETU_ID = :MS_KANIDOUSEI_INFO_SHUBETU_ID,
    PLAN_NYUKO = :PLAN_NYUKO,
    PLAN_CHAKUSAN = :PLAN_CHAKUSAN,
    PLAN_NIYAKU_START = :PLAN_NIYAKU_START,
    PLAN_NIYAKU_END = :PLAN_NIYAKU_END,
    PLAN_RISAN = :PLAN_RISAN,
    PLAN_SHUKOU = :PLAN_SHUKOU,
    RESULT_NYUKO = :RESULT_NYUKO,
    RESULT_CHAKUSAN = :RESULT_CHAKUSAN,
    RESULT_NIYAKU_START = :RESULT_NIYAKU_START,
    RESULT_NIYAKU_END = :RESULT_NIYAKU_END,
    RESULT_RISAN = :RESULT_RISAN,
    RESULT_SHUKOU = :RESULT_SHUKOU,
    RECORD_DATETIME = :RECORD_DATETIME,
    KIKAN_VOYAGE_NO = :KIKAN_VOYAGE_NO,
    KOMA_NO = :KOMA_NO,
    RESULT_MS_BASHO_ID = :RESULT_MS_BASHO_ID,
    RESULT_MS_KICHI_ID = :RESULT_MS_KICHI_ID,
    DAIRITEN_ID = :DAIRITEN_ID,
    NINUSHI_ID = :NINUSHI_ID,
    BIKOU = :BIKOU,
    RESULT_DAIRITEN_ID = :RESULT_DAIRITEN_ID,
    RESULT_NINUSHI_ID = :RESULT_NINUSHI_ID,
    RESULT_BIKOU = :RESULT_BIKOU,

    DELETE_FLAG = :DELETE_FLAG,
    SEND_FLAG = :SEND_FLAG,
    VESSEL_ID = :VESSEL_ID,
    DATA_NO = :DATA_NO,
    USER_KEY = :USER_KEY,
    RENEW_DATE = :RENEW_DATE,
    RENEW_USER_ID = :RENEW_USER_ID,
    TS = :TS

    where DJ_DOUSEI_ID = :DJ_DOUSEI_ID and TS = :TS
  </sql>



  <sql name="GetNextVoyageNo">
    select MAX(to_number(DJ_DOUSEI.VOYAGE_NO,'9999999999'))
    from DJ_DOUSEI
    where DJ_DOUSEI.MS_VESSEL_ID = :MS_VESSEL_ID
    group by DJ_DOUSEI.MS_VESSEL_ID
  </sql>


  <sql name="DeleteByVoyageNo">
    update DJ_DOUSEI
    set DELETE_FLAG = 1
    ,RENEW_DATE = :RENEW_DATE
    ,RENEW_USER_ID = :RENEW_USER_ID
    where MS_VESSEL_ID = :MS_VESSEL_ID AND VOYAGE_NO = :VOYAGE_NO
  </sql>

</databaseConfig>
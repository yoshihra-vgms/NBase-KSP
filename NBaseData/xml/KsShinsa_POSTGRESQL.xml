<?xml version="1.0" encoding="utf-8" ?>

<databaseConfig>

	<sql name="GetRecords">
		SELECT
		KS_SHINSA.KS_SHINSA_ID,
		KS_SHINSA.MS_SHINSA_ID,
		KS_SHINSA.MS_VESSEL_ID,

		KS_SHINSA.SHINSA_DATE,
		KS_SHINSA.SHINSA_ALARM_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_DATE,
		KS_SHINSA.NAIBU_ALARM_DATE,
		KS_SHINSA.NAIBU_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_JISEKITOUROKU_DATE,
		KS_SHINSA.REVIEW_DATE,
		KS_SHINSA.REVIEW_ALARM_DATE,
		KS_SHINSA.REVIEW_JISEKITOUROKU_USER,
		KS_SHINSA.REVIEW_JISEKITOUROKU_DATE,
		KS_SHINSA.BIKOU,

		KS_SHINSA.DELETE_FLAG,
		KS_SHINSA.SEND_FLAG,
		KS_SHINSA.VESSEL_ID,
		KS_SHINSA.DATA_NO,
		KS_SHINSA.USER_KEY,
		KS_SHINSA.RENEW_DATE,
		KS_SHINSA.RENEW_USER_ID,
		KS_SHINSA.TS,

		MS_SHINSA.MS_SHINSA_NAME

		FROM
		KS_SHINSA
		LEFT OUTER JOIN MS_SHINSA ON MS_SHINSA.MS_SHINSA_ID = KS_SHINSA.MS_SHINSA_ID
	</sql>


	<sql name="GetRecordsByMsShinsaID">
		SELECT
		KS_SHINSA.KS_SHINSA_ID,
		KS_SHINSA.MS_SHINSA_ID,
		KS_SHINSA.MS_VESSEL_ID,

		KS_SHINSA.SHINSA_DATE,
		KS_SHINSA.SHINSA_ALARM_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_DATE,
		KS_SHINSA.NAIBU_ALARM_DATE,
		KS_SHINSA.NAIBU_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_JISEKITOUROKU_DATE,
		KS_SHINSA.REVIEW_DATE,
		KS_SHINSA.REVIEW_ALARM_DATE,
		KS_SHINSA.REVIEW_JISEKITOUROKU_USER,
		KS_SHINSA.REVIEW_JISEKITOUROKU_DATE,
		KS_SHINSA.BIKOU,

		KS_SHINSA.DELETE_FLAG,
		KS_SHINSA.SEND_FLAG,
		KS_SHINSA.VESSEL_ID,
		KS_SHINSA.DATA_NO,
		KS_SHINSA.USER_KEY,
		KS_SHINSA.RENEW_DATE,
		KS_SHINSA.RENEW_USER_ID,
		KS_SHINSA.TS,

		MS_SHINSA.MS_SHINSA_NAME

		FROM
		KS_SHINSA
		LEFT OUTER JOIN MS_SHINSA ON MS_SHINSA.MS_SHINSA_ID = KS_SHINSA.MS_SHINSA_ID

		WHERE
		KS_SHINSA.MS_SHINSA_ID = :MS_SHINSA_ID
	</sql>

	<sql name="GetRecordsBy船ID">
		SELECT
		KS_SHINSA.KS_SHINSA_ID,
		KS_SHINSA.MS_SHINSA_ID,
		KS_SHINSA.MS_VESSEL_ID,

		KS_SHINSA.SHINSA_DATE,
		KS_SHINSA.SHINSA_ALARM_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_DATE,
		KS_SHINSA.NAIBU_ALARM_DATE,
		KS_SHINSA.NAIBU_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_JISEKITOUROKU_DATE,
		KS_SHINSA.REVIEW_DATE,
		KS_SHINSA.REVIEW_ALARM_DATE,
		KS_SHINSA.REVIEW_JISEKITOUROKU_USER,
		KS_SHINSA.REVIEW_JISEKITOUROKU_DATE,
		KS_SHINSA.BIKOU,

		KS_SHINSA.DELETE_FLAG,
		KS_SHINSA.SEND_FLAG,
		KS_SHINSA.VESSEL_ID,
		KS_SHINSA.DATA_NO,
		KS_SHINSA.USER_KEY,
		KS_SHINSA.RENEW_DATE,
		KS_SHINSA.RENEW_USER_ID,
		KS_SHINSA.TS,

		MS_SHINSA.MS_SHINSA_NAME

		FROM
		KS_SHINSA
		LEFT OUTER JOIN MS_SHINSA ON MS_SHINSA.MS_SHINSA_ID = KS_SHINSA.MS_SHINSA_ID

		WHERE
		(KS_SHINSA.MS_VESSEL_ID = :MS_VESSEL_ID) AND
		(KS_SHINSA.DELETE_FLAG = 0)
		ORDER BY
		KS_SHINSA.SHINSA_DATE
	</sql>
	<sql name="GetRecordsBy船ID_予定データ">
		SELECT
		KS_SHINSA.KS_SHINSA_ID,
		KS_SHINSA.MS_SHINSA_ID,
		KS_SHINSA.MS_VESSEL_ID,

		KS_SHINSA.SHINSA_DATE,
		KS_SHINSA.SHINSA_ALARM_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_DATE,
		KS_SHINSA.NAIBU_ALARM_DATE,
		KS_SHINSA.NAIBU_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_JISEKITOUROKU_DATE,
		KS_SHINSA.REVIEW_DATE,
		KS_SHINSA.REVIEW_ALARM_DATE,
		KS_SHINSA.REVIEW_JISEKITOUROKU_USER,
		KS_SHINSA.REVIEW_JISEKITOUROKU_DATE,
		KS_SHINSA.BIKOU,

		KS_SHINSA.DELETE_FLAG,
		KS_SHINSA.SEND_FLAG,
		KS_SHINSA.VESSEL_ID,
		KS_SHINSA.DATA_NO,
		KS_SHINSA.USER_KEY,
		KS_SHINSA.RENEW_DATE,
		KS_SHINSA.RENEW_USER_ID,
		KS_SHINSA.TS,

		MS_SHINSA.MS_SHINSA_NAME

		FROM
		KS_SHINSA
		LEFT OUTER JOIN MS_SHINSA ON MS_SHINSA.MS_SHINSA_ID = KS_SHINSA.MS_SHINSA_ID

		WHERE
		(KS_SHINSA.MS_VESSEL_ID = :MS_VESSEL_ID) AND
		(KS_SHINSA.SHINSA_JISEKITOUROKU_USER IS NULL) AND
		(KS_SHINSA.SHINSA_JISEKITOUROKU_DATE IS NULL) AND
		(KS_SHINSA.DELETE_FLAG = 0)
		ORDER BY
		KS_SHINSA.SHINSA_DATE
	</sql>

	<sql name="GetRecord">
		SELECT
		KS_SHINSA.KS_SHINSA_ID,
		KS_SHINSA.MS_SHINSA_ID,
		KS_SHINSA.MS_VESSEL_ID,

		KS_SHINSA.SHINSA_DATE,
		KS_SHINSA.SHINSA_ALARM_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_DATE,
		KS_SHINSA.NAIBU_ALARM_DATE,
		KS_SHINSA.NAIBU_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_JISEKITOUROKU_DATE,
		KS_SHINSA.REVIEW_DATE,
		KS_SHINSA.REVIEW_ALARM_DATE,
		KS_SHINSA.REVIEW_JISEKITOUROKU_USER,
		KS_SHINSA.REVIEW_JISEKITOUROKU_DATE,
		KS_SHINSA.BIKOU,

		KS_SHINSA.DELETE_FLAG,
		KS_SHINSA.SEND_FLAG,
		KS_SHINSA.VESSEL_ID,
		KS_SHINSA.DATA_NO,
		KS_SHINSA.USER_KEY,
		KS_SHINSA.RENEW_DATE,
		KS_SHINSA.RENEW_USER_ID,
		KS_SHINSA.TS,

		MS_SHINSA.MS_SHINSA_NAME

		FROM
		KS_SHINSA
		LEFT OUTER JOIN MS_SHINSA ON MS_SHINSA.MS_SHINSA_ID = KS_SHINSA.MS_SHINSA_ID
		WHERE
		KS_SHINSA.KS_SHINSA_ID = :KS_SHINSA_ID
	</sql>


	<sql name="GetRecordsBy期間データ">
		SELECT
		KS_SHINSA.KS_SHINSA_ID,
		KS_SHINSA.MS_SHINSA_ID,
		KS_SHINSA.MS_VESSEL_ID,

		KS_SHINSA.SHINSA_DATE,
		KS_SHINSA.SHINSA_ALARM_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_DATE,
		KS_SHINSA.SHINSA_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_DATE,
		KS_SHINSA.NAIBU_ALARM_DATE,
		KS_SHINSA.NAIBU_JISEKITOUROKU_USER,
		KS_SHINSA.NAIBU_JISEKITOUROKU_DATE,
		KS_SHINSA.REVIEW_DATE,
		KS_SHINSA.REVIEW_ALARM_DATE,
		KS_SHINSA.REVIEW_JISEKITOUROKU_USER,
		KS_SHINSA.REVIEW_JISEKITOUROKU_DATE,
		KS_SHINSA.BIKOU,

		KS_SHINSA.DELETE_FLAG,
		KS_SHINSA.SEND_FLAG,
		KS_SHINSA.VESSEL_ID,
		KS_SHINSA.DATA_NO,
		KS_SHINSA.USER_KEY,
		KS_SHINSA.RENEW_DATE,
		KS_SHINSA.RENEW_USER_ID,
		KS_SHINSA.TS,

		MS_SHINSA.MS_SHINSA_NAME

		FROM
		KS_SHINSA
		LEFT OUTER JOIN MS_SHINSA ON MS_SHINSA.MS_SHINSA_ID = KS_SHINSA.MS_SHINSA_ID

		WHERE
		((KS_SHINSA.SHINSA_DATE > :START_DATE) OR
		(:END_DATE > KS_SHINSA.NAIBU_DATE)) AND
		(KS_SHINSA.DELETE_FLAG = 0)

		ORDER BY
		KS_SHINSA.SHINSA_DATE
	</sql>

	<sql name="InsertRecord">
		INSERT INTO KS_SHINSA
		(
		KS_SHINSA_ID,
		MS_SHINSA_ID,
		MS_VESSEL_ID,

		SHINSA_DATE,
		SHINSA_ALARM_DATE,
		SHINSA_JISEKITOUROKU_DATE,
		SHINSA_JISEKITOUROKU_USER,

		NAIBU_DATE,
		NAIBU_ALARM_DATE,
		NAIBU_JISEKITOUROKU_USER,
		NAIBU_JISEKITOUROKU_DATE,

		REVIEW_DATE,
		REVIEW_ALARM_DATE,
		REVIEW_JISEKITOUROKU_USER,
		REVIEW_JISEKITOUROKU_DATE,

		BIKOU,

		DELETE_FLAG,
		SEND_FLAG,
		VESSEL_ID,
		DATA_NO,
		USER_KEY,
		RENEW_DATE,
		RENEW_USER_ID,
		TS
		)
		VALUES
		(
		:KS_SHINSA_ID,
		:MS_SHINSA_ID,
		:MS_VESSEL_ID,

		:SHINSA_DATE,
		:SHINSA_ALARM_DATE,
		:SHINSA_JISEKITOUROKU_DATE,
		:SHINSA_JISEKITOUROKU_USER,

		:NAIBU_DATE,
		:NAIBU_ALARM_DATE,
		:NAIBU_JISEKITOUROKU_USER,
		:NAIBU_JISEKITOUROKU_DATE,

		:REVIEW_DATE,
		:REVIEW_ALARM_DATE,
		:REVIEW_JISEKITOUROKU_USER,
		:REVIEW_JISEKITOUROKU_DATE,

		:BIKOU,

		:DELETE_FLAG,
		:SEND_FLAG,
		:VESSEL_ID,
		:DATA_NO,
		:USER_KEY,
		:RENEW_DATE,
		:RENEW_USER_ID,
		:TS
		)
	</sql>

	<sql name="UpdateRecord">
		UPDATE KS_SHINSA SET

		MS_SHINSA_ID = :MS_SHINSA_ID,
		MS_VESSEL_ID = :MS_VESSEL_ID,

		SHINSA_DATE = :SHINSA_DATE,
		SHINSA_ALARM_DATE = :SHINSA_ALARM_DATE,
		SHINSA_JISEKITOUROKU_DATE = :SHINSA_JISEKITOUROKU_DATE,
		SHINSA_JISEKITOUROKU_USER = :SHINSA_JISEKITOUROKU_USER,

		NAIBU_DATE = :NAIBU_DATE,
		NAIBU_ALARM_DATE = :NAIBU_ALARM_DATE,
		NAIBU_JISEKITOUROKU_USER = :NAIBU_JISEKITOUROKU_USER,
		NAIBU_JISEKITOUROKU_DATE = :NAIBU_JISEKITOUROKU_DATE,

		REVIEW_DATE = :REVIEW_DATE,
		REVIEW_ALARM_DATE = :REVIEW_ALARM_DATE,
		REVIEW_JISEKITOUROKU_USER = :REVIEW_JISEKITOUROKU_USER,
		REVIEW_JISEKITOUROKU_DATE = :REVIEW_JISEKITOUROKU_DATE,
		BIKOU = :BIKOU,

		DELETE_FLAG = :DELETE_FLAG,
		SEND_FLAG = :SEND_FLAG,
		VESSEL_ID = :VESSEL_ID,
		DATA_NO = :DATA_NO,
		USER_KEY = :USER_KEY,
		RENEW_DATE = :RENEW_DATE,
		RENEW_USER_ID = :RENEW_USER_ID

		WHERE
		(KS_SHINSA_ID = :KS_SHINSA_ID) AND
		(TS = :TS)
	</sql>


</databaseConfig>
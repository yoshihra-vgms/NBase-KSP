<?xml version="1.0" encoding="utf-8" ?>

<databaseConfig>

	<sql name="GetRecords">
		SELECT
		MS_KENSA.MS_KENSA_ID,
		MS_KENSA.KENSA_NAME,
		MS_KENSA.KANKAKU,
		MS_KENSA.DELETE_FLAG,
		MS_KENSA.SEND_FLAG,
		MS_KENSA.VESSEL_ID,
		MS_KENSA.DATA_NO,
		MS_KENSA.USER_KEY,
		MS_KENSA.RENEW_DATE,
		MS_KENSA.RENEW_USER_ID,
		MS_KENSA.TS
		FROM MS_KENSA
		WHERE MS_KENSA.DELETE_FLAG = 0
	</sql>

	<sql name="GetRecordsBy証書リンクデータ">
		SELECT
		MS_KENSA.MS_KENSA_ID,
		MS_KENSA.KENSA_NAME,
		MS_KENSA.KANKAKU,
		MS_KENSA.DELETE_FLAG,
		MS_KENSA.SEND_FLAG,
		MS_KENSA.VESSEL_ID,
		MS_KENSA.DATA_NO,
		MS_KENSA.USER_KEY,
		MS_KENSA.RENEW_DATE,
		MS_KENSA.RENEW_USER_ID,
		MS_KENSA.TS

		FROM MS_KENSA
		INNER JOIN KS_SHOUSHO_KENSA_LINK ON KS_SHOUSHO_KENSA_LINK.MS_KENSA_ID = MS_KENSA.MS_KENSA_ID

		WHERE
		KS_SHOUSHO_KENSA_LINK.KS_SHOUSHO_ID = :KS_SHOUSHO_ID
	</sql>


	<sql name="GetRecordsBy荷役リンクデータ">
		SELECT
		MS_KENSA.MS_KENSA_ID,
		MS_KENSA.KENSA_NAME,
		MS_KENSA.KANKAKU,
		MS_KENSA.DELETE_FLAG,
		MS_KENSA.SEND_FLAG,
		MS_KENSA.VESSEL_ID,
		MS_KENSA.DATA_NO,
		MS_KENSA.USER_KEY,
		MS_KENSA.RENEW_DATE,
		MS_KENSA.RENEW_USER_ID,
		MS_KENSA.TS

		FROM MS_KENSA

		INNER JOIN KS_NIYAKU_KENSA_LINK ON KS_NIYAKU_KENSA_LINK.MS_KENSA_ID = MS_KENSA.MS_KENSA_ID

		WHERE
		KS_NIYAKU_KENSA_LINK.KS_NIYAKU_ID = :KS_NIYAKU_ID
	</sql>

	<sql name="GetRecordsBy検査名">
		SELECT
		MS_KENSA.MS_KENSA_ID,
		MS_KENSA.KENSA_NAME,
		MS_KENSA.KANKAKU,
		MS_KENSA.DELETE_FLAG,
		MS_KENSA.SEND_FLAG,
		MS_KENSA.VESSEL_ID,
		MS_KENSA.DATA_NO,
		MS_KENSA.USER_KEY,
		MS_KENSA.RENEW_DATE,
		MS_KENSA.RENEW_USER_ID,
		MS_KENSA.TS

		FROM MS_KENSA
		WHERE
		MS_KENSA.KENSA_NAME = :KENSA_NAME
	</sql>

	<sql name="GetRecord">
		SELECT
		MS_KENSA.MS_KENSA_ID,
		MS_KENSA.KENSA_NAME,
		MS_KENSA.KANKAKU,
		MS_KENSA.DELETE_FLAG,
		MS_KENSA.SEND_FLAG,
		MS_KENSA.VESSEL_ID,
		MS_KENSA.DATA_NO,
		MS_KENSA.USER_KEY,
		MS_KENSA.RENEW_DATE,
		MS_KENSA.RENEW_USER_ID,
		MS_KENSA.TS
		FROM MS_KENSA
		WHERE MS_KENSA.MS_KENSA_ID = :MS_KENSA_ID
	</sql>

	<sql name="InsertRecord">
		INSERT INTO MS_KENSA
		(
		MS_KENSA_ID,
		KENSA_NAME,
		KANKAKU,
		DELETE_FLAG,
		SEND_FLAG,
		VESSEL_ID,
		DATA_NO,
		USER_KEY,
		RENEW_DATE,
		RENEW_USER_ID,
		TS
		)
		VALUES
		(
		:MS_KENSA_ID,
		:KENSA_NAME,
		:KANKAKU,
		:DELETE_FLAG,
		:SEND_FLAG,
		:VESSEL_ID,
		:DATA_NO,
		:USER_KEY,
		:RENEW_DATE,
		:RENEW_USER_ID,
		:TS
		)
	</sql>

	<sql name="UpdateRecord">
		UPDATE MS_KENSA SET
		KENSA_NAME = :KENSA_NAME,
		KANKAKU = :KANKAKU,
		DELETE_FLAG = :DELETE_FLAG,
		SEND_FLAG = :SEND_FLAG,
		VESSEL_ID = :VESSEL_ID,
		DATA_NO = :DATA_NO,
		USER_KEY = :USER_KEY,
		RENEW_DATE = :RENEW_DATE,
		RENEW_USER_ID = :RENEW_USER_ID
		WHERE
		(MS_KENSA_ID = :MS_KENSA_ID) AND
		(TS = :TS)
	</sql>
	
	
</databaseConfig>

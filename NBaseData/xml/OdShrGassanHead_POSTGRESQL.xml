<?xml version="1.0" encoding="utf-8" ?>

<databaseConfig>

  <sql name="GetRecords">
    SELECT

    OD_SHR_GASSAN_HEAD.OD_SHR_GASSAN_HEAD_ID
    ,OD_SHR_GASSAN_HEAD.CANCEL_FLAG
    ,OD_SHR_GASSAN_HEAD.MS_CUSTOMER_ID
    ,OD_SHR_GASSAN_HEAD.MS_THI_IRAI_SBT_ID
    ,OD_SHR_GASSAN_HEAD.MS_THI_IRAI_SHOUSAI_ID
    ,OD_SHR_GASSAN_HEAD.MS_VESSEL_ID
    ,OD_SHR_GASSAN_HEAD.STATUS
    ,OD_SHR_GASSAN_HEAD.HACHU_NO
    ,OD_SHR_GASSAN_HEAD.AMOUNT
    ,OD_SHR_GASSAN_HEAD.BIKOU
    ,OD_SHR_GASSAN_HEAD.OD_JRY_ID
    ,OD_SHR_GASSAN_HEAD.OD_SHR_ID

    ,OD_SHR_GASSAN_HEAD.SEND_FLAG
    ,OD_SHR_GASSAN_HEAD.VESSEL_ID
    ,OD_SHR_GASSAN_HEAD.DATA_NO
    ,OD_SHR_GASSAN_HEAD.USER_KEY
    ,OD_SHR_GASSAN_HEAD.RENEW_DATE
    ,OD_SHR_GASSAN_HEAD.RENEW_USER_ID
    ,OD_SHR_GASSAN_HEAD.TS

    ,MS_CUSTOMER.CUSTOMER_NAME as MS_CUSTOMER_NAME
    ,MS_THI_IRAI_SBT.THI_IRAI_SBT_NAME
    ,MS_THI_IRAI_SHOUSAI.THI_IRAI_SHOUSAI_NAME

    FROM
    OD_SHR_GASSAN_HEAD
    INNER JOIN MS_CUSTOMER ON MS_CUSTOMER.MS_CUSTOMER_ID = OD_SHR_GASSAN_HEAD.MS_CUSTOMER_ID
    INNER JOIN MS_THI_IRAI_SBT ON MS_THI_IRAI_SBT.MS_THI_IRAI_SBT_ID = OD_SHR_GASSAN_HEAD.MS_THI_IRAI_SBT_ID
    LEFT JOIN MS_THI_IRAI_SHOUSAI ON MS_THI_IRAI_SHOUSAI.MS_THI_IRAI_SHOUSAI_ID = OD_SHR_GASSAN_HEAD.MS_THI_IRAI_SHOUSAI_ID

    WHERE OD_SHR_GASSAN_HEAD.CANCEL_FLAG = 0
  </sql>

  
  <sql name="ByMsCustomerId">
    AND OD_SHR_GASSAN_HEAD.MS_CUSTOMER_ID = :MS_CUSTOMER_ID
  </sql>
  <sql name="ByMsThiIraiSbtId">
    AND OD_SHR_GASSAN_HEAD.MS_THI_IRAI_SBT_ID = :MS_THI_IRAI_SBT_ID
  </sql>
  <sql name="ByMsThiIraiShousaiId">
    AND OD_SHR_GASSAN_HEAD.MS_THI_IRAI_SHOUSAI_ID = :MS_THI_IRAI_SHOUSAI_ID
  </sql>
  <sql name="ByMsVesselId">
    AND OD_SHR_GASSAN_HEAD.MS_VESSEL_ID = :MS_VESSEL_ID
  </sql>
  <sql name="ByStatus">
    AND OD_SHR_GASSAN_HEAD.STATUS != :STATUS
  </sql>
  <sql name="ByOdShrGassanHeadId">
    AND OD_SHR_GASSAN_HEAD_ID = :OD_SHR_GASSAN_HEAD_ID
  </sql>
  <sql name="ByOdShrId">
    AND OD_SHR_ID = :OD_SHR_ID
  </sql>


  <sql name="OrderBy">
    ORDER BY OD_SHR_GASSAN_HEAD.MS_THI_IRAI_SBT_ID, OD_SHR_GASSAN_HEAD.MS_THI_IRAI_SHOUSAI_ID, OD_SHR_GASSAN_HEAD.HACHU_NO
  </sql>


  <sql name="InsertRecord">
    INSERT INTO OD_SHR_GASSAN_HEAD(
    OD_SHR_GASSAN_HEAD_ID
    ,CANCEL_FLAG
    ,MS_CUSTOMER_ID
    ,MS_THI_IRAI_SBT_ID
    ,MS_THI_IRAI_SHOUSAI_ID
    ,MS_VESSEL_ID
    ,STATUS
    ,HACHU_NO
    ,AMOUNT
    ,BIKOU
    ,OD_JRY_ID
    ,OD_SHR_ID

    ,SEND_FLAG
    ,VESSEL_ID
    ,DATA_NO
    ,USER_KEY
    ,RENEW_DATE
    ,RENEW_USER_ID
    ,TS
    )
    VALUES(
    :OD_SHR_GASSAN_HEAD_ID
    ,:CANCEL_FLAG
    ,:MS_CUSTOMER_ID
    ,:MS_THI_IRAI_SBT_ID
    ,:MS_THI_IRAI_SHOUSAI_ID
    ,:MS_VESSEL_ID
    ,:STATUS
    ,:HACHU_NO
    ,:AMOUNT
    ,:BIKOU
    ,:OD_JRY_ID
    ,:OD_SHR_ID

    ,:SEND_FLAG
    ,:VESSEL_ID
    ,:DATA_NO
    ,:USER_KEY
    ,:RENEW_DATE
    ,:RENEW_USER_ID
    ,:TS
    )

  </sql>

  <sql name="UpdateRecord">
    UPDATE
    OD_SHR_GASSAN_HEAD
    SET
    CANCEL_FLAG = :CANCEL_FLAG
    ,MS_CUSTOMER_ID = :MS_CUSTOMER_ID
    ,MS_THI_IRAI_SBT_ID = :MS_THI_IRAI_SBT_ID
    ,MS_THI_IRAI_SHOUSAI_ID = :MS_THI_IRAI_SHOUSAI_ID
    ,MS_VESSEL_ID = :MS_VESSEL_ID
    ,STATUS = :STATUS
    ,HACHU_NO = :HACHU_NO
    ,AMOUNT = :AMOUNT
    ,BIKOU = :BIKOU
    ,OD_JRY_ID = :OD_JRY_ID
    ,OD_SHR_ID = :OD_SHR_ID

    ,SEND_FLAG = :SEND_FLAG
    ,VESSEL_ID = :VESSEL_ID
    ,DATA_NO = :DATA_NO
    ,USER_KEY = :USER_KEY
    ,RENEW_DATE = :RENEW_DATE
    ,RENEW_USER_ID = :RENEW_USER_ID
    ,TS = :TS

    WHERE OD_SHR_GASSAN_HEAD_ID = :OD_SHR_GASSAN_HEAD_ID
    AND TS = :TS
  </sql>

</databaseConfig>
